// Quick fix for missing previousSpace\nfunction fixPlayerPreviousSpace() {\n    const player = window.GameStateManager.getCurrentPlayer();\n    if (!player) {\n        console.log('No current player found');\n        return;\n    }\n    \n    console.log('Current player:', player.name);\n    console.log('Current position:', player.position);\n    console.log('Current previousSpace:', player.previousSpace);\n    console.log('Visited spaces:', Array.from(player.visitedSpaces || []));\n    \n    // If previousSpace is null but we have visited spaces, try to infer it\n    if (!player.previousSpace && player.visitedSpaces && player.visitedSpaces.size > 0) {\n        const visitedArray = Array.from(player.visitedSpaces);\n        const lastVisited = visitedArray[visitedArray.length - 1];\n        console.log('Inferred previousSpace from last visited:', lastVisited);\n        \n        // Set it to the last visited space\n        player.previousSpace = lastVisited;\n        console.log('Set previousSpace to:', player.previousSpace);\n        \n        // Save the state\n        window.GameStateManager.saveState();\n        \n        // Force UI update\n        window.location.reload();\n    } else if (player.previousSpace) {\n        console.log('Player already has previousSpace:', player.previousSpace);\n    } else {\n        console.log('Cannot infer previousSpace - no visited spaces');\n    }\n}\n\n// Run the fix\nfixPlayerPreviousSpace();